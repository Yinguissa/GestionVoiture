<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recherche de v√©hicules - AutoLoc Pro</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/layout.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
</head>

<body>
    <div class="app-layout">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="../../index.html" class="sidebar-logo">
                    <div class="sidebar-logo-icon">üöó</div>
                    <div class="sidebar-logo-text">Auto<span>Loc</span></div>
                </a>
            </div>
            <nav class="sidebar-nav">
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Principal</div>
                    <a href="dashboard.html" class="sidebar-link"><span class="sidebar-link-icon">üìä</span> Tableau de
                        bord</a>
                    <a href="recherche.html" class="sidebar-link active"><span class="sidebar-link-icon">üîç</span>
                        Rechercher</a>
                    <a href="favoris.html" class="sidebar-link"><span class="sidebar-link-icon">‚ù§Ô∏è</span> Favoris</a>
                    <a href="historique-locations.html" class="sidebar-link"><span class="sidebar-link-icon">üìã</span>
                        Mes locations</a>
                </div>
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Mon compte</div>
                    <a href="profil.html" class="sidebar-link"><span class="sidebar-link-icon">üë§</span> Profil</a>
                    <a href="knowyourcustumer.html" class="sidebar-link"><span class="sidebar-link-icon">‚úÖ</span>
                        V√©rification KYC</a>
                    <a href="securite.html" class="sidebar-link"><span class="sidebar-link-icon">üîí</span> S√©curit√©</a>
                    <a href="appareils.html" class="sidebar-link"><span class="sidebar-link-icon">üì±</span>
                        Appareils</a>
                </div>
            </nav>
            <div class="sidebar-footer">
                <div class="sidebar-user" onclick="logout()">
                    <div class="sidebar-user-avatar">MD</div>
                    <div class="sidebar-user-info">
                        <div class="sidebar-user-name">Utilisateur</div>
                        <div class="sidebar-user-role">Client</div>
                    </div>
                    <span style="color:var(--gray-500);">‚èª</span>
                </div>
            </div>
        </aside>
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        <button class="sidebar-toggle" id="sidebarToggle">‚ò∞</button>

        <main class="main-wrapper">
            <nav class="navbar">
                <div class="navbar-left">
                    <div class="navbar-breadcrumb">
                        <a href="dashboard.html">Accueil</a><span class="separator">/</span><span
                            class="current">Recherche</span>
                    </div>
                    <div class="navbar-search">
                        <span class="navbar-search-icon">üîç</span>
                        <input type="text" placeholder="Rechercher un v√©hicule..." id="navSearch"
                            oninput="debounce(applyFilters, 300)()">
                    </div>
                </div>
                <div class="navbar-right">
                    <button class="navbar-icon-btn">üîî</button>
                    <div class="navbar-avatar">MD</div>
                </div>
            </nav>

            <div class="page-content">
                <div class="page-header animate-fade-in-up">
                    <h1 class="page-title">Rechercher un v√©hicule</h1>
                    <p class="page-subtitle">Trouvez le v√©hicule id√©al pour vos besoins.</p>
                </div>

                <!-- Filters -->
                <div class="filter-bar animate-fade-in-up" style="animation-delay:0.1s;">
                    <div class="form-input-group" style="flex:1;min-width:200px;">
                        <span class="input-icon">üîç</span>
                        <input type="text" class="form-input" id="searchInput" placeholder="Marque, mod√®le..."
                            oninput="debounce(applyFilters, 300)()">
                    </div>
                    <select class="filter-select" id="filterMarque" onchange="applyFilters()">
                        <option value="">Toutes marques</option>
                    </select>
                    <select class="filter-select" id="filterCategorie" onchange="applyFilters()">
                        <option value="">Toutes cat√©gories</option>
                    </select>
                    <select class="filter-select" id="filterCarburant" onchange="applyFilters()">
                        <option value="">Carburant</option>
                    </select>
                    <select class="filter-select" id="filterTransmission" onchange="applyFilters()">
                        <option value="">Transmission</option>
                    </select>
                    <select class="filter-select" id="sortSelect" onchange="applyFilters()">
                        <option value="">Trier par</option>
                        <option value="prix-asc">Prix croissant</option>
                        <option value="prix-desc">Prix d√©croissant</option>
                        <option value="recent">Plus r√©cent</option>
                        <option value="rating">Mieux not√©</option>
                        <option value="populaire">Plus populaire</option>
                    </select>
                    <button class="btn btn-ghost btn-sm" onclick="resetFilters()">R√©initialiser</button>
                </div>

                <!-- Results Count -->
                <div class="flex justify-between items-center mb-6 animate-fade-in-up" style="animation-delay:0.15s;">
                    <span class="text-sm text-secondary" id="vehicleCount">0 v√©hicule trouv√©</span>
                </div>

                <!-- Vehicle Grid -->
                <div class="content-grid stagger-children" id="vehicleGrid"></div>
            </div>

            <footer class="app-footer">
                <span>¬© 2026 AutoLoc Pro</span>
                <a href="#">Support</a>
            </footer>
        </main>
    </div>

    <script src="../assets/js/utils.js"></script>
    <script src="../assets/js/app.js"></script>
    <script src="../assets/js/vehicules.js"></script>
    <script src="../assets/js/client.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (!requireAuth('client')) return;
            populateFilters();
            applyFilters();
        });
    </script>
</body>

</html>